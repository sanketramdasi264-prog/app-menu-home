<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§ó‡•Å‡§£‡§Æ‡§ø‡§≤‡§æ‡§® ‡§∏‡§æ‡§ß‡§® - Kundali Matching</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4a0404 0%, #8b0000 50%, #5c0a0a 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8b0000 0%, #dc143c 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .content {
            padding: 50px;
        }

        .gender-section {
            margin-bottom: 50px;
            padding: 30px;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
            border-radius: 15px;
            border: 2px solid #dc143c;
        }

        .section-title {
            font-size: 1.8em;
            color: #8b0000;
            margin-bottom: 25px;
            text-align: center;
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            font-weight: 600;
            margin-bottom: 10px;
            color: #4a0404;
            font-size: 1.1em;
            display: block;
        }

        .optional {
            font-size: 0.85em;
            color: #666;
            font-weight: normal;
        }

        input, select {
            width: 100%;
            padding: 14px;
            border: 2px solid #dc143c;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #8b0000;
            box-shadow: 0 0 0 3px rgba(220, 20, 60, 0.2);
        }

        select:disabled {
            background: #f5f5f5;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .akshar-display {
            margin-top: 10px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 2px solid #dc143c;
            min-height: 45px;
            color: #8b0000;
            font-weight: 600;
            font-size: 1.1em;
        }

        .info-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .btn {
            background: linear-gradient(135deg, #8b0000 0%, #dc143c 100%);
            color: white;
            padding: 18px 50px;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(220, 20, 60, 0.4);
            background: linear-gradient(135deg, #a00000 0%, #ff1744 100%);
        }

        /* Result Page Styles */
        .result-page {
            display: none;
            padding: 50px;
        }

        .result-page.active {
            display: block;
        }

        .main-page.hidden {
            display: none;
        }

        .result-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .result-header h2 {
            color: #8b0000;
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .person-column {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #dc143c;
        }

        .person-header {
            text-align: center;
            font-size: 1.5em;
            color: #8b0000;
            font-weight: bold;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #dc143c;
        }

        .data-item {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #dc143c;
        }

        .data-label {
            font-weight: 600;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .data-value {
            font-size: 1.3em;
            color: #8b0000;
            font-weight: bold;
        }

        .vs-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: #dc143c;
            font-weight: bold;
        }

        .final-result {
            background: linear-gradient(135deg, #8b0000 0%, #dc143c 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }

        .gun-score {
            font-size: 5em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }

        .gun-label {
            font-size: 1.5em;
            opacity: 0.9;
        }

        .dosha-section {
            background: #fff3cd;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #ffc107;
            margin-bottom: 30px;
        }

        .dosha-title {
            font-size: 1.5em;
            color: #856404;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .dosha-value {
            font-size: 1.3em;
            color: #856404;
            font-weight: 600;
        }

        .dosha-none {
            background: #d4edda;
            border-color: #28a745;
        }

        .dosha-none .dosha-title,
        .dosha-none .dosha-value {
            color: #155724;
        }

        .back-btn {
            background: #6c757d;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }

            .vs-divider {
                transform: rotate(90deg);
            }

            .content, .result-page {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïâÔ∏è ‡§ó‡•Å‡§£‡§Æ‡§ø‡§≤‡§æ‡§® ‡§∏‡§æ‡§ß‡§® üïâÔ∏è</h1>
            <p>Kundali Matching - Complete Compatibility Analysis</p>
        </div>

        <!-- Main Input Page -->
        <div class="main-page" id="mainPage">
            <div class="content">
                <!-- Boy's Section -->
                <div class="gender-section">
                    <h2 class="section-title">üë® ‡§µ‡§∞ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä (Groom's Details)</h2>
                    
                    <!-- Name -->
                    <div class="form-group">
                        <label>‡§®‡§æ‡§µ (Name) <span class="optional">(‡§ê‡§ö‡•ç‡§õ‡§ø‡§ï / Optional)</span></label>
                        <input type="text" id="boyName" placeholder="‡§µ‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§µ">
                    </div>

                    <!-- Rashi -->
                    <div class="form-group">
                        <label>‡§∞‡§æ‡§∂‡•Ä (Rashi) *</label>
                        <select id="boyRashi" onchange="updateRashiInfo('boy')">
                            <option value="">‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ / Select Rashi</option>
                            <option value="‡§Æ‡•á‡§∑">‡§Æ‡•á‡§∑ (Mesh)</option>
                            <option value="‡§µ‡•É‡§∑‡§≠">‡§µ‡•É‡§∑‡§≠ (Vrushabh)</option>
                            <option value="‡§Æ‡§ø‡§•‡•Å‡§®">‡§Æ‡§ø‡§•‡•Å‡§® (Mithun)</option>
                            <option value="‡§ï‡§∞‡•ç‡§ï">‡§ï‡§∞‡•ç‡§ï (Kark)</option>
                            <option value="‡§∏‡§ø‡§Ç‡§π">‡§∏‡§ø‡§Ç‡§π (Sinh)</option>
                            <option value="‡§ï‡§®‡•ç‡§Ø‡§æ">‡§ï‡§®‡•ç‡§Ø‡§æ (Kanya)</option>
                            <option value="‡§§‡•Ç‡§≥">‡§§‡•Ç‡§≥ (Tula)</option>
                            <option value="‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï">‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï (Vrushchik)</option>
                            <option value="‡§ß‡§®‡•Å">‡§ß‡§®‡•Å (Dhanu)</option>
                            <option value="‡§Æ‡§ï‡§∞">‡§Æ‡§ï‡§∞ (Makar)</option>
                            <option value="‡§ï‡•Å‡§Ç‡§≠">‡§ï‡•Å‡§Ç‡§≠ (Kumbh)</option>
                            <option value="‡§Æ‡•Ä‡§®">‡§Æ‡•Ä‡§® (Meen)</option>
                        </select>
                        <div class="akshar-display" id="boyRashiAkshar">‡§∞‡§æ‡§∂‡•Ä ‡§Ö‡§ï‡•ç‡§∑‡§∞‡•á ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡§§‡•Ä‡§≤</div>
                    </div>

                    <!-- Nakshatra -->
                    <div class="form-group">
                        <label>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ (Nakshatra) *</label>
                        <select id="boyNakshatra" disabled onchange="updateNakshatraInfo('boy')">
                            <option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ</option>
                        </select>
                        <p class="info-text">‡§Ø‡§æ ‡§∞‡§æ‡§∂‡•Ä‡§§‡•Ä‡§≤ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡•á ‡§µ‡§∞ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§≤‡•ç‡§Ø‡§æ‡§®‡§Ç‡§§‡§∞ ‡§¶‡§ø‡§∏‡§§‡•Ä‡§≤</p>
                    </div>

                    <!-- Charan -->
                    <div class="form-group">
                        <label>‡§ö‡§∞‡§£ (Charan) *</label>
                        <select id="boyCharan" disabled onchange="updateCharanAkshar('boy')">
                            <option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>
                            <option value="1">‡•ß (1)</option>
                            <option value="2">‡•® (2)</option>
                            <option value="3">‡•© (3)</option>
                            <option value="4">‡•™ (4)</option>
                        </select>
                        <div class="akshar-display" id="boyCharanAkshar">‡§ö‡§∞‡§£ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡•á‡§≤</div>
                    </div>
                </div>

                <!-- Girl's Section -->
                <div class="gender-section">
                    <h2 class="section-title">üë∞ ‡§µ‡§ß‡•Ç ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä (Bride's Details)</h2>
                    
                    <!-- Name -->
                    <div class="form-group">
                        <label>‡§®‡§æ‡§µ (Name) <span class="optional">(‡§ê‡§ö‡•ç‡§õ‡§ø‡§ï / Optional)</span></label>
                        <input type="text" id="girlName" placeholder="‡§µ‡§ß‡•Ç‡§ö‡•á ‡§®‡§æ‡§µ">
                    </div>

                    <!-- Rashi -->
                    <div class="form-group">
                        <label>‡§∞‡§æ‡§∂‡•Ä (Rashi) *</label>
                        <select id="girlRashi" onchange="updateRashiInfo('girl')">
                            <option value="">‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ / Select Rashi</option>
                            <option value="‡§Æ‡•á‡§∑">‡§Æ‡•á‡§∑ (Mesh)</option>
                            <option value="‡§µ‡•É‡§∑‡§≠">‡§µ‡•É‡§∑‡§≠ (Vrushabh)</option>
                            <option value="‡§Æ‡§ø‡§•‡•Å‡§®">‡§Æ‡§ø‡§•‡•Å‡§® (Mithun)</option>
                            <option value="‡§ï‡§∞‡•ç‡§ï">‡§ï‡§∞‡•ç‡§ï (Kark)</option>
                            <option value="‡§∏‡§ø‡§Ç‡§π">‡§∏‡§ø‡§Ç‡§π (Sinh)</option>
                            <option value="‡§ï‡§®‡•ç‡§Ø‡§æ">‡§ï‡§®‡•ç‡§Ø‡§æ (Kanya)</option>
                            <option value="‡§§‡•Ç‡§≥">‡§§‡•Ç‡§≥ (Tula)</option>
                            <option value="‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï">‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï (Vrushchik)</option>
                            <option value="‡§ß‡§®‡•Å">‡§ß‡§®‡•Å (Dhanu)</option>
                            <option value="‡§Æ‡§ï‡§∞">‡§Æ‡§ï‡§∞ (Makar)</option>
                            <option value="‡§ï‡•Å‡§Ç‡§≠">‡§ï‡•Å‡§Ç‡§≠ (Kumbh)</option>
                            <option value="‡§Æ‡•Ä‡§®">‡§Æ‡•Ä‡§® (Meen)</option>
                        </select>
                        <div class="akshar-display" id="girlRashiAkshar">‡§∞‡§æ‡§∂‡•Ä ‡§Ö‡§ï‡•ç‡§∑‡§∞‡•á ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡§§‡•Ä‡§≤</div>
                    </div>

                    <!-- Nakshatra -->
                    <div class="form-group">
                        <label>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ (Nakshatra) *</label>
                        <select id="girlNakshatra" disabled onchange="updateNakshatraInfo('girl')">
                            <option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ</option>
                        </select>
                        <p class="info-text">‡§Ø‡§æ ‡§∞‡§æ‡§∂‡•Ä‡§§‡•Ä‡§≤ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡•á ‡§µ‡§∞ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§≤‡•ç‡§Ø‡§æ‡§®‡§Ç‡§§‡§∞ ‡§¶‡§ø‡§∏‡§§‡•Ä‡§≤</p>
                    </div>

                    <!-- Charan -->
                    <div class="form-group">
                        <label>‡§ö‡§∞‡§£ (Charan) *</label>
                        <select id="girlCharan" disabled onchange="updateCharanAkshar('girl')">
                            <option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>
                            <option value="1">‡•ß (1)</option>
                            <option value="2">‡•® (2)</option>
                            <option value="3">‡•© (3)</option>
                            <option value="4">‡•™ (4)</option>
                        </select>
                        <div class="akshar-display" id="girlCharanAkshar">‡§ö‡§∞‡§£ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡•á‡§≤</div>
                    </div>
                </div>

                <button class="btn" onclick="showResult()">‡§ó‡•Å‡§£‡§Æ‡§ø‡§≤‡§æ‡§® ‡§§‡§™‡§æ‡§∏‡§æ / Check Compatibility</button>
            </div>
        </div>

        <!-- Result Page -->
        <div class="result-page" id="resultPage">
            <div class="result-header">
                <h2>‡§µ‡§ø‡§µ‡§æ‡§π ‡§ó‡•Å‡§£‡§Æ‡§ø‡§≤‡§æ‡§® ‡§®‡§ø‡§ï‡§æ‡§≤</h2>
                <p style="color: #666;">Marriage Compatibility Result</p>
            </div>

            <div class="comparison-container">
                <!-- Boy's Data -->
                <div class="person-column">
                    <div class="person-header" id="resultBoyName">üë® ‡§µ‡§∞ (Groom)</div>
                    
                    <div class="data-item">
                        <div class="data-label">‡§∞‡§æ‡§∂‡•Ä (Rashi)</div>
                        <div class="data-value" id="resultBoyRashi">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ (Nakshatra)</div>
                        <div class="data-value" id="resultBoyNakshatra">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§ö‡§∞‡§£ (Charan)</div>
                        <div class="data-value" id="resultBoyCharan">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§®‡§æ‡§°‡•Ä (Nadi)</div>
                        <div class="data-value" id="resultBoyNadi">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§Ø‡•ã‡§®‡•Ä (Yoni)</div>
                        <div class="data-value" id="resultBoyYoni">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§ó‡§£ (Gan)</div>
                        <div class="data-value" id="resultBoyGan">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§µ‡§∞‡•ç‡§ó (Varg)</div>
                        <div class="data-value" id="resultBoyVarg">-</div>
                    </div>
                </div>

                <div class="vs-divider">‚ö°</div>

                <!-- Girl's Data -->
                <div class="person-column">
                    <div class="person-header" id="resultGirlName">üë∞ ‡§µ‡§ß‡•Ç (Bride)</div>
                    
                    <div class="data-item">
                        <div class="data-label">‡§∞‡§æ‡§∂‡•Ä (Rashi)</div>
                        <div class="data-value" id="resultGirlRashi">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ (Nakshatra)</div>
                        <div class="data-value" id="resultGirlNakshatra">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§ö‡§∞‡§£ (Charan)</div>
                        <div class="data-value" id="resultGirlCharan">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§®‡§æ‡§°‡•Ä (Nadi)</div>
                        <div class="data-value" id="resultGirlNadi">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§Ø‡•ã‡§®‡•Ä (Yoni)</div>
                        <div class="data-value" id="resultGirlYoni">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§ó‡§£ (Gan)</div>
                        <div class="data-value" id="resultGirlGan">-</div>
                    </div>

                    <div class="data-item">
                        <div class="data-label">‡§µ‡§∞‡•ç‡§ó (Varg)</div>
                        <div class="data-value" id="resultGirlVarg">-</div>
                    </div>
                </div>
            </div>

            <div class="final-result">
                <div class="gun-label">‡§è‡§ï‡•Ç‡§£ ‡§ó‡•Å‡§£ (Total Gun Score)</div>
                <div class="gun-score" id="finalScore">--</div>
                <div class="gun-label">‡•©‡•¨ ‡§™‡•à‡§ï‡•Ä (Out of 36)</div>
            </div>

            <div class="dosha-section" id="doshaSection">
                <div class="dosha-title">‡§¶‡•ã‡§∑ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä (Dosha Information)</div>
                <div class="dosha-value" id="doshaValue">-</div>
            </div>

            <button class="btn back-btn" onclick="goBack()">‚¨Ö ‡§™‡§∞‡§§ ‡§ú‡§æ / Go Back</button>
        </div>
    </div>

    <script>
        // Rashi to Nakshatra mapping with akshars
        const rashiData = {
            '‡§Æ‡•á‡§∑': {
                akshars: '‡§ö‡•Ç, ‡§ö‡•á, ‡§ö‡•ã, ‡§≤‡§æ, ‡§≤‡•Ä, ‡§≤‡•Ç, ‡§≤‡•á, ‡§≤‡•ã, ‡§Ö, ‡§á, ‡§â, ‡§è',
                nakshatras: {
                    '‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä': ['‡§ö‡•Ç', '‡§ö‡•á', '‡§ö‡•ã', '‡§≤‡§æ'],
                    '‡§≠‡§∞‡§£‡•Ä': ['‡§≤‡•Ä', '‡§≤‡•Ç', '‡§≤‡•á', '‡§≤‡•ã'],
                    '‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ': ['‡§Ö', '‡§á', '‡§â', '‡§è']
                }
            },
            '‡§µ‡•É‡§∑‡§≠': {
                akshars: '‡§Ö, ‡§á, ‡§â, ‡§è, ‡§ì, ‡§µ‡§æ, ‡§µ‡•Ä, ‡§µ‡•Ç, ‡§µ‡•á, ‡§µ‡•ã, ‡§ï‡§æ, ‡§ï‡•Ä',
                nakshatras: {
                    '‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ': ['‡§Ö', '‡§á', '‡§â', '‡§è'],
                    '‡§∞‡•ã‡§π‡§ø‡§£‡•Ä': ['‡§ì', '‡§µ‡§æ', '‡§µ‡•Ä', '‡§µ‡•Ç'],
                    '‡§Æ‡•É‡§ó': ['‡§µ‡•á', '‡§µ‡•ã', '‡§ï‡§æ', '‡§ï‡•Ä']
                }
            },
            '‡§Æ‡§ø‡§•‡•Å‡§®': {
                akshars: '‡§ï‡§æ, ‡§ï‡•Ä, ‡§ï‡•Å, ‡§ò, ‡§ô, ‡§õ, ‡§ï‡•á, ‡§ï‡•ã, ‡§π‡§æ, ‡§π‡•Ä',
                nakshatras: {
                    '‡§Æ‡•É‡§ó': ['‡§µ‡•á', '‡§µ‡•ã', '‡§ï‡§æ', '‡§ï‡•Ä'],
                    '‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ': ['‡§ï‡•Å', '‡§ò', '‡§ô', '‡§õ'],
                    '‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç': ['‡§ï‡•á', '‡§ï‡•ã', '‡§π‡§æ', '‡§π‡•Ä']
                }
            },
            '‡§ï‡§∞‡•ç‡§ï': {
                akshars: '‡§π‡§æ, ‡§π‡•Ä, ‡§π‡•Å, ‡§π‡•á, ‡§π‡•ã, ‡§°, ‡§°‡•Ä, ‡§°‡•Ç, ‡§°‡•á, ‡§°‡•ã',
                nakshatras: {
                    '‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç': ['‡§ï‡•á', '‡§ï‡•ã', '‡§π‡§æ', '‡§π‡•Ä'],
                    '‡§™‡•Å‡§∑‡•ç‡§Ø': ['‡§π‡•Å', '‡§π‡•á', '‡§π‡•ã', '‡§°'],
                    '‡§Ü‡§∂‡•ç‡§≤‡•á‡§∑‡§æ': ['‡§°‡•Ä', '‡§°‡•Ç', '‡§°‡•á', '‡§°‡•ã']
                }
            },
            '‡§∏‡§ø‡§Ç‡§π': {
                akshars: '‡§Æ‡§æ, ‡§Æ‡•Ä, ‡§Æ‡•Ç, ‡§Æ‡•á, ‡§Æ‡•ã, ‡§ü‡§æ, ‡§ü‡•Ä, ‡§ü‡•Ç, ‡§ü‡•á, ‡§ü‡•ã, ‡§™‡§æ, ‡§™‡•Ä',
                nakshatras: {
                    '‡§Æ‡§ò‡§æ': ['‡§Æ‡§æ', '‡§Æ‡•Ä', '‡§Æ‡•Ç', '‡§Æ‡•á'],
                    '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä': ['‡§Æ‡•ã', '‡§ü‡§æ', '‡§ü‡•Ä', '‡§ü‡•Ç'],
                    '‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä': ['‡§ü‡•á', '‡§ü‡•ã', '‡§™‡§æ', '‡§™‡•Ä']
                }
            },
            '‡§ï‡§®‡•ç‡§Ø‡§æ': {
                akshars: '‡§™‡§æ, ‡§™‡•Ä, ‡§™‡•Ç, ‡§∑, ‡§£, ‡§†, ‡§™‡•á, ‡§™‡•ã, ‡§∞‡§æ, ‡§∞‡•Ä',
                nakshatras: {
                    '‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä': ['‡§ü‡•á', '‡§ü‡•ã', '‡§™‡§æ', '‡§™‡•Ä'],
                    '‡§π‡§∏‡•ç‡§§': ['‡§™‡•Ç', '‡§∑', '‡§£', '‡§†'],
                    '‡§ö‡§ø‡§§‡•ç‡§∞‡§æ': ['‡§™‡•á', '‡§™‡•ã', '‡§∞‡§æ', '‡§∞‡•Ä']
                }
            },
            '‡§§‡•Ç‡§≥': {
                akshars: '‡§∞‡§æ, ‡§∞‡•Ä, ‡§∞‡•Å, ‡§∞‡•á, ‡§∞‡•ã, ‡§§‡§æ, ‡§§‡•Ä, ‡§§‡•Ç, ‡§§‡•á, ‡§§‡•ã',
                nakshatras: {
                    '‡§ö‡§ø‡§§‡•ç‡§∞‡§æ': ['‡§™‡•á', '‡§™‡•ã', '‡§∞‡§æ', '‡§∞‡•Ä'],
                    '‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä': ['‡§∞‡•Å', '‡§∞‡•á', '‡§∞‡•ã', '‡§§‡§æ'],
                    '‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ': ['‡§§‡•Ä', '‡§§‡•Ç', '‡§§‡•á', '‡§§‡•ã']
                }
            },
            '‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï': {
                akshars: '‡§§‡•ã, ‡§®‡§æ, ‡§®‡•Ä, ‡§®‡•Ç, ‡§®‡•á, ‡§®‡•ã, ‡§Ø‡§æ, ‡§Ø‡•Ä, ‡§Ø‡•Ç',
                nakshatras: {
                    '‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ': ['‡§§‡•Ä', '‡§§‡•Ç', '‡§§‡•á', '‡§§‡•ã'],
                    '‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ': ['‡§®‡§æ', '‡§®‡•Ä', '‡§®‡•Ç', '‡§®‡•á'],
                    '‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ': ['‡§®‡•ã', '‡§Ø‡§æ', '‡§Ø‡•Ä', '‡§Ø‡•Ç']
                }
            },
            '‡§ß‡§®‡•Å': {
                akshars: '‡§Ø‡•á, ‡§Ø‡•ã, ‡§≠‡§æ, ‡§≠‡•Ä, ‡§≠‡•Ç, ‡§ß, ‡§´, ‡§¢, ‡§≠‡•á, ‡§≠‡•ã, ‡§ú‡§æ, ‡§ú‡•Ä',
                nakshatras: {
                    '‡§Æ‡•Ç‡§≥': ['‡§Ø‡•á', '‡§Ø‡•ã', '‡§≠‡§æ', '‡§≠‡•Ä'],
                    '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§æ': ['‡§≠‡•Ç', '‡§ß', '‡§´', '‡§¢'],
                    '‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ': ['‡§≠‡•á', '‡§≠‡•ã', '‡§ú‡§æ', '‡§ú‡•Ä']
                }
            },
            '‡§Æ‡§ï‡§∞': {
                akshars: '‡§≠‡•ã, ‡§ú‡§æ, ‡§ú‡•Ä, ‡§ú‡•Å, ‡§ú‡•á, ‡§ú‡•ã, ‡§ò‡§æ, ‡§ó‡§æ, ‡§ó‡•Ä, ‡§ó‡•Ç, ‡§ó‡•á',
                nakshatras: {
                    '‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ': ['‡§≠‡•á', '‡§≠‡•ã', '‡§ú‡§æ', '‡§ú‡•Ä'],
                    '‡§∂‡•ç‡§∞‡§µ‡§£': ['‡§ú‡•Å', '‡§ú‡•á', '‡§ú‡•ã', '‡§ò‡§æ'],
                    '‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ': ['‡§ó‡§æ', '‡§ó‡•Ä', '‡§ó‡•Ç', '‡§ó‡•á']
                }
            },
            '‡§ï‡•Å‡§Ç‡§≠': {
                akshars: '‡§ó‡•Ç, ‡§ó‡•á, ‡§ó‡•ã, ‡§∏‡§æ, ‡§∏‡•Ä, ‡§∏‡•Ç, ‡§∏‡•á, ‡§∏‡•ã, ‡§¶‡§æ, ‡§¶‡•Ä',
                nakshatras: {
                    '‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ': ['‡§ó‡§æ', '‡§ó‡•Ä', '‡§ó‡•Ç', '‡§ó‡•á'],
                    '‡§∂‡§§‡§≠‡§ø‡§∑‡§æ': ['‡§ó‡•ã', '‡§∏‡§æ', '‡§∏‡•Ä', '‡§∏‡•Ç'],
                    '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ': ['‡§∏‡•á', '‡§∏‡•ã', '‡§¶‡§æ', '‡§¶‡•Ä']
                }
            },
            '‡§Æ‡•Ä‡§®': {
                akshars: '‡§¶‡•Ä, ‡§¶‡•Å, ‡§•, ‡§ù, ‡§û, ‡§¶‡•á, ‡§¶‡•ã, ‡§ö, ‡§ö‡•Ä',
                nakshatras: {
                    '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ': ['‡§∏‡•á', '‡§∏‡•ã', '‡§¶‡§æ', '‡§¶‡•Ä'],
                    '‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ': ['‡§¶‡•Å', '‡§•', '‡§ù', '‡§û'],
                    '‡§∞‡•á‡§µ‡§§‡•Ä': ['‡§¶‡•á', '‡§¶‡•ã', '‡§ö', '‡§ö‡•Ä']
                }
            }
        };

        // Nakshatra properties
        const nakshatraProperties = {
            '‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Ö‡§∂‡•ç‡§µ', gan: '‡§¶‡•á‡§µ', varg: '‡§µ‡•à‡§∂‡•ç‡§Ø' },
            '‡§≠‡§∞‡§£‡•Ä': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§ó‡§ú', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§Æ‡•ç‡§≤‡•á‡§ö‡•ç‡§õ' },
            '‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Æ‡•á‡§∑', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§¨‡•ç‡§∞‡§æ‡§π‡•ç‡§Æ‡§£' },
            '‡§∞‡•ã‡§π‡§ø‡§£‡•Ä': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§∏‡§∞‡•ç‡§™', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§Æ‡•É‡§ó': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§∏‡§∞‡•ç‡§™', gan: '‡§¶‡•á‡§µ', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§ï‡•Å‡§§‡•ç‡§§‡§æ', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§¨‡•Å‡§ö‡§∞' },
            '‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Æ‡§æ‡§∞‡•ç‡§ú‡§æ‡§∞', gan: '‡§¶‡•á‡§µ', varg: '‡§µ‡•à‡§∂‡•ç‡§Ø' },
            '‡§™‡•Å‡§∑‡•ç‡§Ø': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡•á‡§∑', gan: '‡§¶‡•á‡§µ', varg: '‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡§ø‡§Ø' },
            '‡§Ü‡§∂‡•ç‡§≤‡•á‡§∑‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡§æ‡§∞‡•ç‡§ú‡§æ‡§∞', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§Æ‡•ç‡§≤‡•á‡§ö‡•ç‡§õ' },
            '‡§Æ‡§ò‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡•Ç‡§∑‡§ï', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡•Ç‡§∑‡§ï', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§¨‡•ç‡§∞‡§æ‡§π‡•ç‡§Æ‡§£' },
            '‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§µ‡•É‡§∑', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡§ø‡§Ø' },
            '‡§π‡§∏‡•ç‡§§': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Æ‡•ç‡§π‡•à‡§∏', gan: '‡§¶‡•á‡§µ', varg: '‡§µ‡•à‡§∂‡•ç‡§Ø' },
            '‡§ö‡§ø‡§§‡•ç‡§∞‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§µ‡•ç‡§Ø‡§æ‡§ò‡•ç‡§∞', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡•ç‡§π‡•à‡§∏', gan: '‡§¶‡•á‡§µ', varg: '‡§¨‡•Å‡§ö‡§∞' },
            '‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§µ‡•ç‡§Ø‡§æ‡§ò‡•ç‡§∞', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§Æ‡•ç‡§≤‡•á‡§ö‡•ç‡§õ' },
            '‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§Æ‡•É‡§ó', gan: '‡§¶‡•á‡§µ', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Æ‡•É‡§ó', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§¨‡•Å‡§ö‡§∞' },
            '‡§Æ‡•Ç‡§≥': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§ï‡•Å‡§§‡•ç‡§§‡§æ', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§¨‡•Å‡§ö‡§∞' },
            '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§µ‡§æ‡§®‡§∞', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§¨‡•ç‡§∞‡§æ‡§π‡•ç‡§Æ‡§£' },
            '‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§®‡§ï‡•Å‡§≤', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡§ø‡§Ø' },
            '‡§∂‡•ç‡§∞‡§µ‡§£': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§µ‡§æ‡§®‡§∞', gan: '‡§¶‡•á‡§µ', varg: '‡§Æ‡•ç‡§≤‡•á‡§ö‡•ç‡§õ' },
            '‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§∏‡§ø‡§Ç‡§π', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' },
            '‡§∂‡§§‡§≠‡§ø‡§∑‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§Ö‡§∂‡•ç‡§µ', gan: '‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏', varg: '‡§¨‡•Å‡§ö‡§∞' },
            '‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ': { nadi: '‡§Ü‡§¶‡•ç‡§Ø', yoni: '‡§∏‡§ø‡§Ç‡§π', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§¨‡•ç‡§∞‡§æ‡§π‡•ç‡§Æ‡§£' },
            '‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§ó‡§æ‡§Ø', gan: '‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø', varg: '‡§ï‡•ç‡§∑‡§§‡•ç‡§∞‡§ø‡§Ø' },
            '‡§∞‡•á‡§µ‡§§‡•Ä': { nadi: '‡§Æ‡§ß‡•ç‡§Ø', yoni: '‡§ó‡§ú', gan: '‡§¶‡•á‡§µ', varg: '‡§∂‡•Ç‡§¶‡•ç‡§∞' }
        };

        let gunmilanData = {};

        // Initialize
        window.onload = function() {
            loadData();
        };

        // Load JSON data
        async function loadData() {
            try {
                const response = await fetch('gunmilan_data.json');
                gunmilanData = await response.json();
                console.log('Data loaded successfully');
            } catch (error) {
                console.error('Error loading data:', error);
                alert('‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä / Error loading data file');
            }
        }

        // Update Rashi Info - Show akshars and enable nakshatra dropdown
        function updateRashiInfo(gender) {
            const rashiSelect = document.getElementById(gender + 'Rashi');
            const nakshatraSelect = document.getElementById(gender + 'Nakshatra');
            const charanSelect = document.getElementById(gender + 'Charan');
            const rashiAksharDiv = document.getElementById(gender + 'RashiAkshar');
            
            const selectedRashi = rashiSelect.value;

            if (selectedRashi && rashiData[selectedRashi]) {
                // Show rashi akshars
                rashiAksharDiv.textContent = rashiData[selectedRashi].akshars;
                
                // Populate nakshatra dropdown
                nakshatraSelect.innerHTML = '<option value="">‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>';
                nakshatraSelect.disabled = false;
                
                Object.keys(rashiData[selectedRashi].nakshatras).forEach(nakshatra => {
                    nakshatraSelect.innerHTML += `<option value="${nakshatra}">${nakshatra}</option>`;
                });
            } else {
                rashiAksharDiv.textContent = '‡§∞‡§æ‡§∂‡•Ä ‡§Ö‡§ï‡•ç‡§∑‡§∞‡•á ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡§§‡•Ä‡§≤';
                nakshatraSelect.innerHTML = '<option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ</option>';
                nakshatraSelect.disabled = true;
            }

            // Reset charan
            charanSelect.innerHTML = '<option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>';
            charanSelect.disabled = true;
            document.getElementById(gender + 'CharanAkshar').textContent = '‡§ö‡§∞‡§£ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡•á‡§≤';
        }

        // Update Nakshatra Info - Enable charan dropdown
        function updateNakshatraInfo(gender) {
            const charanSelect = document.getElementById(gender + 'Charan');
            const nakshatraSelect = document.getElementById(gender + 'Nakshatra');
            
            if (nakshatraSelect.value) {
                charanSelect.innerHTML = `
                    <option value="">‡§ö‡§∞‡§£ ‡§®‡§ø‡§µ‡§°‡§æ</option>
                    <option value="1">‡•ß (1)</option>
                    <option value="2">‡•® (2)</option>
                    <option value="3">‡•© (3)</option>
                    <option value="4">‡•™ (4)</option>
                `;
                charanSelect.disabled = false;
            } else {
                charanSelect.innerHTML = '<option value="">‡§™‡•ç‡§∞‡§•‡§Æ ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>';
                charanSelect.disabled = true;
            }
            
            document.getElementById(gender + 'CharanAkshar').textContent = '‡§ö‡§∞‡§£ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡•á‡§≤';
        }

        // Update Charan Akshar
        function updateCharanAkshar(gender) {
            const rashiSelect = document.getElementById(gender + 'Rashi');
            const nakshatraSelect = document.getElementById(gender + 'Nakshatra');
            const charanSelect = document.getElementById(gender + 'Charan');
            const charanAksharDiv = document.getElementById(gender + 'CharanAkshar');
            
            const rashi = rashiSelect.value;
            const nakshatra = nakshatraSelect.value;
            const charan = charanSelect.value;

            if (rashi && nakshatra && charan && rashiData[rashi]?.nakshatras[nakshatra]) {
                const akshar = rashiData[rashi].nakshatras[nakshatra][parseInt(charan) - 1];
                charanAksharDiv.textContent = `${akshar} (‡§ö‡§∞‡§£ ${charan})`;
            } else {
                charanAksharDiv.textContent = '‡§ö‡§∞‡§£ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Ø‡•á‡§•‡•á ‡§¶‡§ø‡§∏‡•á‡§≤';
            }
        }

        // Show Result Page
        function showResult() {
            const boyName = document.getElementById('boyName').value.trim();
            const boyRashi = document.getElementById('boyRashi').value;
            const boyNakshatra = document.getElementById('boyNakshatra').value;
            const boyCharan = document.getElementById('boyCharan').value;
            
            const girlName = document.getElementById('girlName').value.trim();
            const girlRashi = document.getElementById('girlRashi').value;
            const girlNakshatra = document.getElementById('girlNakshatra').value;
            const girlCharan = document.getElementById('girlCharan').value;

            if (!boyRashi || !boyNakshatra || !boyCharan || !girlRashi || !girlNakshatra || !girlCharan) {
                alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≠‡§∞‡§æ / Please fill all required fields (*)');
                return;
            }

            // Find matching data
            const key = `${boyNakshatra}-${boyCharan}_${girlNakshatra}-${girlCharan}`;
            let result = gunmilanData[key];

            // Try grouped patterns if exact match not found
            if (!result) {
                result = findGroupedMatch(boyNakshatra, boyCharan, girlNakshatra, girlCharan);
            }

            if (!result) {
                alert('‡§Ø‡§æ ‡§∏‡§Ç‡§Ø‡•ã‡§ú‡§®‡§æ‡§∏‡§æ‡§†‡•Ä ‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä / Data not available for this combination');
                return;
            }

            // Populate result page
            populateResultPage(boyName, boyRashi, boyNakshatra, boyCharan, girlName, girlRashi, girlNakshatra, girlCharan, result);

            // Switch pages
            document.getElementById('mainPage').classList.add('hidden');
            document.getElementById('resultPage').classList.add('active');
            window.scrollTo(0, 0);
        }

        // Find grouped match
        function findGroupedMatch(boyNak, boyCh, girlNak, girlCh) {
            const patterns = [
                `${boyNak}-1,2,3,4_${girlNak}-1,2,3,4`,
                `${boyNak}-1,2,3,4_${girlNak}-${girlCh}`,
                `${boyNak}-${boyCh}_${girlNak}-1,2,3,4`,
                `${boyNak}-1,2,3_${girlNak}-1,2,3,4`,
                `${boyNak}-1,2_${girlNak}-1,2,3,4`,
                `${boyNak}-3,4_${girlNak}-1,2,3,4`,
                `${boyNak}-1,2,3,4_${girlNak}-1,2,3`,
                `${boyNak}-1,2,3,4_${girlNak}-2,3,4`,
                `${boyNak}-1,2,3,4_${girlNak}-1,2`,
                `${boyNak}-1,2,3,4_${girlNak}-3,4`,
                `${boyNak}-1_${girlNak}-1,2,3,4`,
                `${boyNak}-2,3,4_${girlNak}-1,2,3,4`,
                `${boyNak}-1,2,3,4_${girlNak}-4`
            ];

            for (let pattern of patterns) {
                if (gunmilanData[pattern]) {
                    return gunmilanData[pattern];
                }
            }
            return null;
        }

        // Populate Result Page
        function populateResultPage(boyName, boyRashi, boyNak, boyCh, girlName, girlRashi, girlNak, girlCh, result) {
            // Update names in headers
            document.getElementById('resultBoyName').textContent = boyName ? `üë® ${boyName}` : 'üë® ‡§µ‡§∞ (Groom)';
            document.getElementById('resultGirlName').textContent = girlName ? `üë∞ ${girlName}` : 'üë∞ ‡§µ‡§ß‡•Ç (Bride)';

            // Boy's data
            document.getElementById('resultBoyRashi').textContent = boyRashi;
            document.getElementById('resultBoyNakshatra').textContent = boyNak;
            document.getElementById('resultBoyCharan').textContent = boyCh;
            
            const boyProps = nakshatraProperties[boyNak];
            if (boyProps) {
                document.getElementById('resultBoyNadi').textContent = boyProps.nadi;
                document.getElementById('resultBoyYoni').textContent = boyProps.yoni;
                document.getElementById('resultBoyGan').textContent = boyProps.gan;
                document.getElementById('resultBoyVarg').textContent = boyProps.varg;
            }

            // Girl's data
            document.getElementById('resultGirlRashi').textContent = girlRashi;
            document.getElementById('resultGirlNakshatra').textContent = girlNak;
            document.getElementById('resultGirlCharan').textContent = girlCh;
            
            const girlProps = nakshatraProperties[girlNak];
            if (girlProps) {
                document.getElementById('resultGirlNadi').textContent = girlProps.nadi;
                document.getElementById('resultGirlYoni').textContent = girlProps.yoni;
                document.getElementById('resultGirlGan').textContent = girlProps.gan;
                document.getElementById('resultGirlVarg').textContent = girlProps.varg;
            }

            // Final score
            document.getElementById('finalScore').textContent = result.score;

            // Dosha
            const doshaSection = document.getElementById('doshaSection');
            const doshaValue = document.getElementById('doshaValue');
            doshaValue.textContent = result.dosha;

            if (result.dosha === '‡§¶‡•ã‡§∑ ‡§®‡§æ‡§π‡•Ä') {
                doshaSection.classList.add('dosha-none');
            } else {
                doshaSection.classList.remove('dosha-none');
            }
        }

        // Go back to main page
        function goBack() {
            document.getElementById('mainPage').classList.remove('hidden');
            document.getElementById('resultPage').classList.remove('active');
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
