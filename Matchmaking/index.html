<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <title>‡§Ö‡§ö‡•Ç‡§ï ‡§ó‡•Å‡§£ ‡§Æ‡§ø‡§≤‡§æ‡§®</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{
            --primary:#d84315;
            --primary-dark:#6d1b00;
            --accent:#ff6f00;
            --bg1:#3e1a1a;
            --bg2:#5d2424;
            --success:#66bb6a;
            --warning:#ffa726;
            --danger:#ef5350;
        }
        *{box-sizing:border-box;margin:0;padding:0}
        body{
            font-family:'Noto Sans Devanagari',sans-serif;
            background:linear-gradient(135deg,var(--bg1),var(--bg2));
            min-height:100vh;
            padding:15px;
            position:relative;
        }
        body::before{
            content:'';
            position:fixed;
            top:0;left:0;
            width:100%;height:100%;
            background:radial-gradient(circle at 20% 50%,rgba(191,54,12,.15) 0%,transparent 50%),
            radial-gradient(circle at 80% 80%,rgba(255,111,0,.1) 0%,transparent 50%);
            pointer-events:none;
            z-index:0;
        }
        .container{max-width:650px;margin:auto;position:relative;z-index:1}
        .header{text-align:center;margin-bottom:25px}
        .header h1{color:#ffccbc;font-size:28px;margin:0 0 5px;text-shadow:2px 2px 8px rgba(255,111,0,.5)}
        .header p{color:#e0e0e0;font-size:13px}
        .card{
            background:rgba(42,15,15,.95);
            border-radius:16px;
            padding:25px;
            box-shadow:0 8px 30px rgba(0,0,0,.5);
            margin-bottom:20px;
            border:1px solid rgba(191,54,12,.2);
            backdrop-filter:blur(10px);
        }
        .person-section{
            padding:18px;
            border-radius:12px;
            background:linear-gradient(135deg,rgba(61,22,22,.8),rgba(93,36,36,.6));
            margin-bottom:18px;
            border:1px solid rgba(191,54,12,.3);
        }
        .person-title{
            font-size:18px;
            font-weight:700;
            color:#ffccbc;
            margin:0 0 15px;
            display:flex;
            align-items:center;
            gap:8px;
        }
        .person-icon{
            width:28px;height:28px;
            background:linear-gradient(135deg,#d84315,#bf360c);
            border-radius:50%;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:14px;
            box-shadow:0 3px 8px rgba(191,54,12,.4);
        }
        .form-group{margin-bottom:15px}
        label{display:block;font-weight:600;color:#fff;margin-bottom:6px;font-size:14px}
        .optional-tag{
            color:#ffa726;
            font-size:12px;
            font-weight:400;
            margin-left:5px;
        }
        input,select{
            width:100%;
            padding:12px 14px;
            border:2px solid rgba(191,54,12,.3);
            border-radius:10px;
            font-size:15px;
            font-family:inherit;
            background:rgba(61,22,22,.6);
            color:#fff;
            transition:all .2s;
        }
        input::placeholder{color:#bdbdbd}
        input:focus,select:focus{
            outline:none;
            border-color:#d84315;
            box-shadow:0 0 0 3px rgba(216,67,21,.2);
            background:rgba(61,22,22,.9);
        }
        select{cursor:pointer}
        select option{background:#2a0f0f;color:#fff}
        .divider{
            height:2px;
            background:linear-gradient(90deg,transparent,rgba(191,54,12,.5),transparent);
            margin:20px 0;
        }
        .btn{
            width:100%;
            padding:14px;
            background:linear-gradient(135deg,var(--primary),var(--primary-dark));
            color:#fff;
            border:none;
            border-radius:10px;
            font-size:17px;
            font-weight:700;
            cursor:pointer;
            transition:all .3s;
            box-shadow:0 4px 15px rgba(216,67,21,.3);
            font-family:inherit;
        }
        .btn:hover{
            transform:translateY(-2px);
            box-shadow:0 6px 20px rgba(216,67,21,.5);
        }
        .btn:active{transform:translateY(0)}
        .info-box{
            background:rgba(61,22,22,.6);
            border-left:4px solid #ff6f00;
            padding:12px;
            border-radius:8px;
            margin-top:15px;
            font-size:13px;
            color:#ffccbc;
        }
        .result-section{
            display:none;
            animation:slideIn .5s;
        }
        .result-section.show{display:block}
        @keyframes slideIn{
            from{opacity:0;transform:translateY(20px)}
            to{opacity:1;transform:translateY(0)}
        }
        .details-grid{
            display:grid;
            grid-template-columns:1fr 1fr;
            gap:15px;
            margin-bottom:20px;
        }
        .detail-card{
            background:rgba(42,15,15,.95);
            border-radius:12px;
            padding:18px;
            border:1px solid rgba(191,54,12,.3);
            text-align:center;
        }
        .detail-card h3{
            color:#ffccbc;
            font-size:16px;
            margin-bottom:10px;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:8px;
        }
        .name-box{
            font-size:20px;
            font-weight:700;
            color:#ff6f00;
            padding:12px;
            background:rgba(61,22,22,.6);
            border-radius:8px;
            border:2px solid rgba(216,67,21,.4);
            min-height:50px;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .combined-details{
            background:rgba(42,15,15,.95);
            border-radius:12px;
            padding:20px;
            border:1px solid rgba(191,54,12,.3);
            margin-bottom:20px;
        }
        .detail-row{
            display:flex;
            align-items:center;
            padding:12px 0;
            border-bottom:1px solid rgba(191,54,12,.2);
        }
        .detail-row:last-child{border-bottom:none}
        .detail-label-main{
            flex:0 0 100px;
            font-weight:700;
            color:#ffccbc;
            font-size:15px;
        }
        .detail-values{
            flex:1;
            display:flex;
            align-items:center;
            justify-content:space-around;
            font-size:15px;
            color:#e0e0e0;
        }
        .detail-values span{
            flex:1;
            text-align:center;
        }
        .vs{
            color:#ff6f00;
            font-weight:700;
            font-size:18px;
            flex:0 0 40px;
        }
        .score-card{
            background:linear-gradient(135deg,rgba(46,125,50,.2),rgba(102,187,106,.15));
            border:1px solid rgba(102,187,106,.3);
            border-radius:16px;
            padding:25px;
            text-align:center;
            backdrop-filter:blur(10px);
        }
        .score-circle{
            width:130px;
            height:130px;
            margin:0 auto 15px;
            border-radius:50%;
            background:linear-gradient(135deg,rgba(42,15,15,.95),rgba(61,22,22,.95));
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            box-shadow:0 8px 25px rgba(0,0,0,.5),0 0 40px rgba(191,54,12,.4);
            border:3px solid rgba(216,67,21,.5);
        }
        .score-number{
            font-size:42px;
            font-weight:700;
            color:#ffccbc;
            text-shadow:0 0 20px rgba(255,111,0,.6);
        }
        .score-total{font-size:16px;color:#e0e0e0;margin-top:4px}
        .compatibility-level{
            font-size:22px;
            font-weight:700;
            margin:12px 0;
        }
        .dosha-info{
            background:rgba(42,15,15,.7);
            padding:12px;
            border-radius:10px;
            margin-top:15px;
            font-size:14px;
            color:#fff;
            border:1px solid rgba(191,54,12,.3);
        }
        .excellent{color:#66bb6a;text-shadow:0 0 10px rgba(102,187,106,.5)}
        .good{color:#9ccc65;text-shadow:0 0 10px rgba(156,204,101,.5)}
        .average{color:#ffa726;text-shadow:0 0 10px rgba(255,167,38,.5)}
        .poor{color:#ef5350;text-shadow:0 0 10px rgba(239,83,80,.5)}
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üïâÔ∏è ‡§Ö‡§ö‡•Ç‡§ï ‡§ó‡•Å‡§£ ‡§Æ‡§ø‡§≤‡§æ‡§®</h1>
        <p>‡§µ‡•à‡§¶‡§ø‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§™‡§¶‡•ç‡§ß‡§§‡•Ä‡§®‡•Å‡§∏‡§æ‡§∞ ‡§µ‡§ø‡§µ‡§æ‡§π ‡§∏‡•Å‡§∏‡§Ç‡§ó‡§§‡§§‡§æ ‡§§‡§™‡§æ‡§∏‡§æ</p>
    </div>

    <div class="card">
        <div class="person-section">
            <div class="person-title"><div class="person-icon">üë®</div><span>‡§µ‡§∞‡§æ‡§ö‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</span></div>
            <div class="form-group">
                <label>‡§®‡§æ‡§µ</label>
                <input type="text" id="boyName" placeholder="‡§µ‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ">
            </div>
            <div class="form-group">
                <label>‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ</label>
                <select id="boyRashi" onchange="loadNak('boy')">
                    <option value="">-- ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ --</option>
                </select>
            </div>
            <div class="form-group">
                <label>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§µ ‡§ö‡§∞‡§£ ‡§®‡§ø‡§µ‡§°‡§æ</label>
                <select id="boyNak">
                    <option value="">-- ‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ --</option>
                </select>
            </div>
        </div>

        <div class="divider"></div>

        <div class="person-section">
            <div class="person-title"><div class="person-icon">üë©</div><span>‡§µ‡§ß‡•Ç‡§ö‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</span></div>
            <div class="form-group">
                <label>‡§®‡§æ‡§µ</label>
                <input type="text" id="girlName" placeholder="‡§µ‡§ß‡•Ç‡§ö‡•á ‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ">
            </div>
            <div class="form-group">
                <label>‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ</label>
                <select id="girlRashi" onchange="loadNak('girl')">
                    <option value="">-- ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ --</option>
                </select>
            </div>
            <div class="form-group">
                <label>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§µ ‡§ö‡§∞‡§£ ‡§®‡§ø‡§µ‡§°‡§æ</label>
                <select id="girlNak">
                    <option value="">-- ‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∂‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ --</option>
                </select>
            </div>
        </div>

        <button class="btn" onclick="calc()">‡§ó‡•Å‡§£ ‡§§‡§™‡§æ‡§∏‡§æ</button>

        <div class="info-box">
            ‚ÑπÔ∏è 18 ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§§‡•ç‡§Ø‡§æ‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ú‡§æ‡§∏‡•ç‡§§ ‡§ó‡•Å‡§£ ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§µ‡§ø‡§µ‡§æ‡§π ‡§∂‡•Å‡§≠ ‡§Æ‡§æ‡§®‡§≤‡§æ ‡§ú‡§æ‡§§‡•ã.
        </div>
    </div>

    <div class="result-section" id="resultSection">
        <div class="details-grid">
            <div class="detail-card">
                <h3>üë® ‡§µ‡§∞</h3>
                <div class="name-box" id="boyNameBox">--</div>
            </div>
            <div class="detail-card">
                <h3>üë© ‡§µ‡§ß‡•Ç</h3>
                <div class="name-box" id="girlNameBox">--</div>
            </div>
        </div>

        <div class="combined-details">
            <div class="detail-row"><div class="detail-label-main">‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</div><div class="detail-values"><span id="boyNakshatra">--</span><span class="vs">‚ö°</span><span id="girlNakshatra">--</span></div></div>
            <div class="detail-row"><div class="detail-label-main">‡§ö‡§∞‡§£</div><div class="detail-values"><span id="boyCharan">--</span><span class="vs">‚ö°</span><span id="girlCharan">--</span></div></div>
            <div class="detail-row"><div class="detail-label-main">‡§®‡§æ‡§°‡•Ä</div><div class="detail-values"><span id="boyNadi">--</span><span class="vs">‚ö°</span><span id="girlNadi">--</span></div></div>
            <div class="detail-row"><div class="detail-label-main">‡§Ø‡•ã‡§®‡•Ä</div><div class="detail-values"><span id="boyYoni">--</span><span class="vs">‚ö°</span><span id="girlYoni">--</span></div></div>
            <div class="detail-row"><div class="detail-label-main">‡§ó‡§£</div><div class="detail-values"><span id="boyGan">--</span><span class="vs">‚ö°</span><span id="girlGan">--</span></div></div>
            <div class="detail-row"><div class="detail-label-main">‡§∞‡§æ‡§∂‡•Ä</div><div class="detail-values"><span id="boyRashiDetail">--</span><span class="vs">‚ö°</span><span id="girlRashiDetail">--</span></div></div>
        </div>

        <div class="score-card">
            <div class="score-circle">
                <div class="score-number" id="scoreNum">--</div>
                <div class="score-total">/ 36</div>
            </div>
            <div class="compatibility-level" id="compatLevel">--</div>
            <div class="dosha-info"><strong>‡§¶‡•ã‡§∑:</strong> <span id="doshaText">--</span></div>
        </div>
    </div>
</div>

<script>
//
const rashiMap={‡§Æ‡•á‡§∑:[[`‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä`,4],[`‡§≠‡§∞‡§£‡•Ä`,4],[`‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ`,1]],‡§µ‡•É‡§∑‡§≠:[[`‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ`,3],[`‡§∞‡•ã‡§π‡§ø‡§£‡•Ä`,4],[`‡§Æ‡•É‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑`,2]],‡§Æ‡§ø‡§•‡•Å‡§®:[[`‡§Æ‡•É‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑`,2],[`‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ`,4],[`‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç`,3]],‡§ï‡§∞‡•ç‡§ï:[[`‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç`,1],[`‡§™‡•Å‡§∑‡•ç‡§Ø`,4],[`‡§Ü‡§∂‡•ç‡§≤‡•á‡§∑‡§æ`,4]],‡§∏‡§ø‡§Ç‡§π:[[`‡§Æ‡§ò‡§æ`,4],[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`,4],[`‡§â‡§§‡•ç‡§§‡§∞ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`,1]],‡§ï‡§®‡•ç‡§Ø‡§æ:[[`‡§â‡§§‡•ç‡§§‡§∞ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`,3],[`‡§π‡§∏‡•ç‡§§`,4],[`‡§ö‡§ø‡§§‡•ç‡§∞‡§æ`,2]],‡§§‡•Å‡§≤‡§æ:[[`‡§ö‡§ø‡§§‡•ç‡§∞‡§æ`,2],[`‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä`,4],[`‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ`,3]],‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï:[[`‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ`,1],[`‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ`,4],[`‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ`,4]],‡§ß‡§®‡•Å:[[`‡§Æ‡•Ç‡§≥`,4],[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§æ`,4],[`‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ`,1]],‡§Æ‡§ï‡§∞:[[`‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ`,3],[`‡§∂‡•ç‡§∞‡§µ‡§£`,4],[`‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ`,2]],‡§ï‡•Å‡§Ç‡§≠:[[`‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ`,2],[`‡§∂‡§§‡§§‡§æ‡§∞‡§ï‡§æ`,4],[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ',3]],‡§Æ‡•Ä‡§®:[[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ`,1],[`‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ`,4],[`‡§∞‡•á‡§µ‡§§‡•Ä`,4]]};
const charanLetters={‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä:[`‡§ö‡•Å`,`‡§ö‡•á`,`‡§ö‡•ã`,`‡§≤‡§æ`],‡§≠‡§∞‡§£‡•Ä:[`‡§≤‡§ø`,`‡§≤‡•Ç`,`‡§≤‡•á`,`‡§≤‡•ã`],‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ:[`‡§Ü`,`‡§á`,`‡§â`,`‡§è`],‡§∞‡•ã‡§π‡§ø‡§£‡•Ä:[`‡§ì`,`‡§µ‡§æ`,`‡§µ‡§ø`,`‡§µ‡•Å`],‡§Æ‡•É‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑:[`‡§µ‡•á`,`‡§µ‡•ã`,`‡§ï‡§æ`,`‡§ï‡§ø`],‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ:[`‡§ï‡•Å`,`‡§ò`,`‡§ô`,`‡§õ`],‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç:[`‡§ï‡•á`,`‡§ï‡•ã`,`‡§π‡§æ`,`‡§π‡§ø`],‡§™‡•Å‡§∑‡•ç‡§Ø:[`‡§π‡•Å`,`‡§π‡•á`,`‡§π‡•ã`,`‡§°‡§æ`],‡§Ü‡§∂‡•ç‡§≤‡•á‡§∑‡§æ:[`‡§°‡§ø`,`‡§°‡•Å`,`‡§°‡•á`,`‡§°‡•ã`],‡§Æ‡§ò‡§æ:[`‡§Æ‡§æ`,`‡§Æ‡§ø`,`‡§Æ‡•Å`,`‡§Æ‡•á`],[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`]:[`‡§Æ‡•ã`,`‡§ü‡§æ`,`‡§ü‡§ø`,`‡§ü‡•Å`],[`‡§â‡§§‡•ç‡§§‡§∞ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`]:[`‡§ü‡•á`,`‡§ü‡•ã`,`‡§™‡§æ`,`‡§™‡§ø`],‡§π‡§∏‡•ç‡§§:[`‡§™‡•Å`,`‡§∑`,`‡§£`,`‡§†`],‡§ö‡§ø‡§§‡•ç‡§∞‡§æ:[`‡§™‡•á`,`‡§™‡•ã`,`‡§∞‡§æ`,`‡§∞‡§ø`],‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä:[`‡§∞‡•Å`,`‡§∞‡•á`,`‡§∞‡•ã`,`‡§§‡§æ`],‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ:[`‡§§‡§ø`,`‡§§‡•Å`,`‡§§‡•á`,`‡§§‡•ã`],‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ:[`‡§®‡§æ`,`‡§®‡§ø`,`‡§®‡•Å`,`‡§®‡•á`],‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ:[`‡§®‡•ã`,`‡§Ø‡§æ`,`‡§Ø‡§ø`,`‡§Ø‡•Å`],‡§Æ‡•Ç‡§≥:[`‡§Ø‡•á`,`‡§Ø‡•ã`,`‡§≠‡§æ`,`‡§≠‡§ø`],‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§æ:[`‡§≠‡•Ç`,`‡§ß‡§æ`,`‡§´‡§æ`,`‡§¢‡§æ`],‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ:[`‡§≠‡•á`,`‡§≠‡•ã`,`‡§ú‡§æ`,`‡§ú‡§ø`],‡§∂‡•ç‡§∞‡§µ‡§£:[`‡§ú‡•Å`,`‡§ú‡•á`,`‡§ú‡•ã`,`‡§ñ‡§æ`],‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ:[`‡§ñ‡§ø`,`‡§ñ‡•Å`,`‡§ñ‡•á`,`‡§ñ‡•ã`],‡§∂‡§§‡§§‡§æ‡§∞‡§ï‡§æ:[`‡§ó‡•Å`,`‡§ó‡•á`,`‡§ó‡•ã`,`‡§∏‡§æ`],‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ:[`‡§∏‡§ø`,`‡§∏‡•Å`,`‡§∏‡•á`,`‡§∏‡•ã`],‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ:[`‡§¶‡§æ`,`‡§¶‡§ø`,`‡§¶‡•Å`,`‡§¶‡•á`],‡§∞‡•á‡§µ‡§§‡•Ä:[`‡§¶‡•ã`,`‡§ö‡§æ`,`‡§ö‡§ø`,`‡§ö‡•Å`]};
const nakDetails={‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§Ö‡§∂‡•ç‡§µ`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§≠‡§∞‡§£‡•Ä:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§ó‡§ú`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡•á‡§∑`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§∞‡•ã‡§π‡§ø‡§£‡•Ä:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§∏‡§∞‡•ç‡§™`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§Æ‡•É‡§ó‡§∂‡•Ä‡§∞‡•ç‡§∑:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§∏‡§∞‡•ç‡§™`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§ï‡•Å‡§§‡•ç‡§§‡§æ`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Ç:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡§æ‡§∞‡•ç‡§ú‡§æ‡§∞`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§™‡•Å‡§∑‡•ç‡§Ø:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡•á‡§∑`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§Ü‡§∂‡•ç‡§≤‡•á‡§∑‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡§æ‡§∞‡•ç‡§ú‡§æ‡§∞`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`},‡§Æ‡§ò‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡•Ç‡§∑‡§ï`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},[`‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`]:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡•Ç‡§∑‡§ï`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},[`‡§â‡§§‡•ç‡§§‡§∞ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä`]:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§ó‡•å`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§π‡§∏‡•ç‡§§:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡§π‡§ø‡§∑`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§ö‡§ø‡§§‡•ç‡§∞‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§µ‡•ç‡§Ø‡§æ‡§ò‡•ç‡§∞`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`},‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§Æ‡§π‡§ø‡§∑`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§µ‡•ç‡§Ø‡§æ‡§ò‡•ç‡§∞`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§π‡§∞‡§ø‡§£`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§π‡§∞‡§ø‡§£`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`},‡§Æ‡•Ç‡§≥:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§ï‡•Å‡§§‡•ç‡§§‡§æ`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`},‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§µ‡§æ‡§®‡§∞`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§®‡§ï‡•Å‡§≤`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§∂‡•ç‡§∞‡§µ‡§£:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§µ‡§æ‡§®‡§∞`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§∏‡§ø‡§Ç‡§π`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`},‡§∂‡§§‡§§‡§æ‡§∞‡§ï‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§Ö‡§∂‡•ç‡§µ`,‡§ó‡§£:`‡§∞‡§æ‡§ï‡•ç‡§∑‡§∏`,‡§µ‡§∞‡•ç‡§ó:`‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶`},‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ü‡§¶‡•Ä`,‡§Ø‡•ã‡§®‡•Ä:`‡§∏‡§ø‡§Ç‡§π`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶‡§æ:{‡§®‡§æ‡§°‡•Ä:`‡§Ö‡§Ç‡§§‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§ó‡•å`,‡§ó‡§£:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`,‡§µ‡§∞‡•ç‡§ó:`‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø`},‡§∞‡•á‡§µ‡§§‡•Ä:{‡§®‡§æ‡§°‡•Ä:`‡§Æ‡§ß‡•ç‡§Ø`,‡§Ø‡•ã‡§®‡•Ä:`‡§ó‡§ú`,‡§ó‡§£:`‡§¶‡•á‡§µ`,‡§µ‡§∞‡•ç‡§ó:`‡§ú‡§≤‡§ö‡§∞`}};

let gunData={};

//
fetch(`gunmilan_data (3).json`)
    .then(r=>r.json())
    .then(d=>{gunData=d; console.log("‚úÖ Data Loaded")})
    .catch(e=>alert("Error loading JSON file"));

// Populate Rashis
window.onload = () => {
    const br=document.getElementById(`boyRashi`), gr=document.getElementById(`girlRashi`);
    Object.keys(rashiMap).forEach(r=>{
        br.innerHTML+=`<option value="${r}">${r}</option>`;
        gr.innerHTML+=`<option value="${r}">${r}</option>`;
    });
};

function loadNak(t){
    const r=document.getElementById(t+`Rashi`).value, s=document.getElementById(t+`Nak`);
    s.innerHTML=`<option value="">-- ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ --</option>`;
    if(!r) return;
    rashiMap[r].forEach(n=>{
        const nm=n[0], c=n[1];
        for(let i=1;i<=c;i++){
            s.innerHTML+=`<option value="${nm}-${i}">${nm} - ‡§ö‡§∞‡§£ ${i}</option>`;
        }
    });
}

/** * MATCHING HELPER
 * Converts selected "‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä-1" to JSON key range "‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä-1,2,3,4"
 */
function findMatchKey(selection) {
    if (!selection) return null;
    const [name, charan] = selection.split('-');
    const allKeys = Object.keys(gunData);
    
    // Check all keys to see which one contains this nakshatra and charan
    for (let key of allKeys) {
        const parts = key.split('_'); 
        for (let part of parts) {
            const [pName, pCharans] = part.split('-');
            if (pName === name) {
                // Check if the charan digit is inside the comma list (e.g. "1" is in "1,2,3,4")
                if (pCharans.split(',').includes(charan)) {
                    return part;
                }
            }
        }
    }
    return null;
}

function calc(){
    const bRaw=document.getElementById(`boyNak`).value;
    const gRaw=document.getElementById(`girlNak`).value;
    if(!bRaw || !gRaw) { alert("‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§≠‡§∞‡§æ"); return; }

    // Use helper to find the range keys
    const boyKeyPart = findMatchKey(bRaw);
    const girlKeyPart = findMatchKey(gRaw);
    const finalKey = `${boyKeyPart}_${girlKeyPart}`;
    
    const res = gunData[finalKey];

    if(res){
        const [bNak, bChar] = bRaw.split('-');
        const [gNak, gChar] = gRaw.split('-');
        
        document.getElementById('boyNameBox').textContent = document.getElementById('boyName').value || bNak;
        document.getElementById('girlNameBox').textContent = document.getElementById('girlName').value || gNak;
        document.getElementById('boyNakshatra').textContent = bNak;
        document.getElementById('boyCharan').textContent = bChar;
        document.getElementById('girlNakshatra').textContent = gNak;
        document.getElementById('girlCharan').textContent = gChar;
        
        document.getElementById('boyNadi').textContent = nakDetails[bNak].‡§®‡§æ‡§°‡•Ä;
        document.getElementById('girlNadi').textContent = nakDetails[gNak].‡§®‡§æ‡§°‡•Ä;
        document.getElementById('boyYoni').textContent = nakDetails[bNak].‡§Ø‡•ã‡§®‡•Ä;
        document.getElementById('girlYoni').textContent = nakDetails[gNak].‡§Ø‡•ã‡§®‡•Ä;
        document.getElementById('boyGan').textContent = nakDetails[bNak].‡§ó‡§£;
        document.getElementById('girlGan').textContent = nakDetails[gNak].‡§ó‡§£;
        document.getElementById('boyRashiDetail').textContent = document.getElementById('boyRashi').value;
        document.getElementById('girlRashiDetail').textContent = document.getElementById('girlRashi').value;

        document.getElementById('scoreNum').textContent = res.score;
        document.getElementById('doshaText').textContent = res.dosha || "‡§¶‡•ã‡§∑ ‡§®‡§æ‡§π‡•Ä";

        let lvl="", cls="";
        if(res.score >= 28) { lvl="‡§â‡§§‡•ç‡§§‡§Æ ‡§ú‡•ã‡§°‡•Ä ‚ú®"; cls="excellent"; }
        else if(res.score >= 18) { lvl="‡§ö‡§æ‡§Ç‡§ó‡§≤‡•Ä ‡§ú‡•ã‡§°‡•Ä üëç"; cls="good"; }
        else { lvl="‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§æ‡§π‡•Ä ‚ùå"; cls="poor"; }

        document.getElementById('compatLevel').textContent = lvl;
        document.getElementById('compatLevel').className = "compatibility-level " + cls;
        document.getElementById('resultSection').classList.add('show');
    } else {
        alert("‡§Ø‡§æ ‡§∏‡§Ç‡§Ø‡•ã‡§ó‡§æ‡§∏‡§æ‡§†‡•Ä ‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä");
    }
}
</script>
</body>
</html>
