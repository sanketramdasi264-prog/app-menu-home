<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>अचूक गुण मिलान</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
 --primary:#c0392b;
 --bg:#fff3e0;
}
body{
 margin:0;
 font-family:'Noto Sans Devanagari',sans-serif;
 background:linear-gradient(#fff8e1,#ffe0b2);
}
.container{
 max-width:520px;
 margin:auto;
 padding:20px;
}
.card{
 background:#fff;
 border-radius:15px;
 padding:20px;
 box-shadow:0 4px 12px rgba(0,0,0,0.15);
}
h2{
 text-align:center;
 color:var(--primary);
 margin-top:0;
}
label{
 font-weight:600;
}
select{
 width:100%;
 padding:10px;
 margin-top:5px;
 margin-bottom:8px;
 border-radius:8px;
 border:1px solid #ccc;
 font-size:16px;
 background:#f5f5f5;
}
.rashi-letters{
 background:#fff8e1;
 padding:8px;
 border-radius:8px;
 font-size:14px;
 margin-bottom:10px;
 border:1px solid #ffd54f;
}
button{
 width:100%;
 background:var(--primary);
 color:#fff;
 border:none;
 padding:14px;
 font-size:17px;
 border-radius:10px;
 cursor:pointer;
}
button:hover{background:#a93226;}
.result{
 text-align:center;
 margin-top:15px;
 font-size:18px;
 font-weight:600;
}
.score{
 font-size:32px;
 color:var(--primary);
}
.dosha{
 color:#d84315;
}
</style>
</head>
<body>

<div class="container">
<div class="card">

<h2>अचूक गुण मिलान</h2>

<!-- Groom -->
<label>मुलाची रास</label>
<select id="boyRashi" onchange="updateNak('boy')"></select>
<div id="boyRashiLetters" class="rashi-letters"></div>

<label>मुलाचे नक्षत्र-चरण</label>
<select id="boyNak"></select>

<hr>

<!-- Bride -->
<label>मुलीची रास</label>
<select id="girlRashi" onchange="updateNak('girl')"></select>
<div id="girlRashiLetters" class="rashi-letters"></div>

<label>मुलीचे नक्षत्र-चरण</label>
<select id="girlNak"></select>

<button onclick="calc()">गुण तपासा</button>

<div class="result" id="result"></div>

</div>
</div>

<script>

// --- Rashi data EXACT matching JSON ---
const rashiData = {
 "मेष":{
   letters:"चु चे चो ला लि लू ले लो आ",
   nak:[
     ["अश्विनी",4],
     ["भरणी",4],
     ["कृतिका",1]
   ]
 },
 "वृषभ":{
   letters:"इ उ ए ओ वा वि वु वे वो",
   nak:[
     ["कृतिका",3],
     ["रोहिणी",4],
     ["मृगशीर्ष",2]
   ]
 },
 "मिथुन":{
   letters:"का कि कु घ ङ छ के को हा",
   nak:[
     ["मृगशीर्ष",2],
     ["आर्द्रा",4],
     ["पुनर्वसू",3]
   ]
 },
 "कर्क":{
   letters:"हि हु हे हो डा डि डु डे डो",
   nak:[
     ["पुनर्वसू",1],
     ["पुष्य",4],
     ["आश्लेषा",4]
   ]
 },
 "सिंह":{
   letters:"मा मि मु मे मो टा टि टु टे",
   nak:[
     ["मघा",4],
     ["पूर्वाफाल्गुनी",4],
     ["उत्तराफाल्गुनी",1]
   ]
 },
 "कन्या":{
   letters:"टो पा पि पु ष ण ठ पे पो",
   nak:[
     ["उत्तराफाल्गुनी",3],
     ["हस्त",4],
     ["चित्रा",2]
   ]
 },
 "तुला":{
   letters:"रा रि रु रे रो ता ति तु ते",
   nak:[
     ["चित्रा",2],
     ["स्वाती",4],
     ["विशाखा",3]
   ]
 },
 "वृश्चिक":{
   letters:"तो ना नि नु ने नो या यि यु",
   nak:[
     ["विशाखा",1],
     ["अनुराधा",4],
     ["ज्येष्ठा",4]
   ]
 },
 "धनु":{
   letters:"ये यो भा भि भू धा फा ढा भे",
   nak:[
     ["मूळ",4],
     ["पूर्वाषाढा",4],
     ["उत्तराषाढा",1]
   ]
 },
 "मकर":{
   letters:"भो जा जि खि खु खे खो गा गि",
   nak:[
     ["उत्तराषाढा",3],
     ["श्रवण",4],
     ["धनिष्ठा",2]
   ]
 },
 "कुंभ":{
   letters:"गु गे गो सा सि सु से सो दा",
   nak:[
     ["धनिष्ठा",2],
     ["शततारका",4],
     ["पूर्वाभाद्रपदा",3]
   ]
 },
 "मीन":{
   letters:"दि दु थ झ ञ दे दो चा चि",
   nak:[
     ["पूर्वाभाद्रपदा",1],
     ["उत्तराभाद्रपदा",4],
     ["रेवती",4]
   ]
 }
};

// --- Fill Rashi dropdowns ---
const rashis = Object.keys(rashiData);
const boyR = document.getElementById("boyRashi");
const girlR = document.getElementById("girlRashi");

rashis.forEach(r=>{
 boyR.innerHTML += `<option>${r}</option>`;
 girlR.innerHTML += `<option>${r}</option>`;
});

// --- Update Nak + Letters ---
function updateNak(type){
 let rashi = document.getElementById(type+"Rashi").value;
 let letterBox = document.getElementById(type+"RashiLetters");
 let nakBox = document.getElementById(type+"Nak");
 
 letterBox.innerText = "राशी अक्षरे : " + rashiData[rashi].letters;
 nakBox.innerHTML = "";

 rashiData[rashi].nak.forEach(n=>{
   let name = n[0];
   let count = n[1];
   for(let i=1;i<=count;i++){
     nakBox.innerHTML += `<option>${name}-${i}</option>`;
   }
 });
}

// --- Initial load ---
updateNak("boy");
updateNak("girl");

// --- Load JSON Data ---
let gunData = {};
fetch("gunmilan_data.json")
.then(r=>r.json())
.then(data=>{ gunData=data; });

// --- Calculate ---
function calc(){
 let b = document.getElementById("boyNak").value;
 let g = document.getElementById("girlNak").value;
 let key = b+"_"+g;
 let res = gunData[key];
 let out = document.getElementById("result");

 if(res){
   out.innerHTML = `<div class='score'>${res.score} गुण</div>
                    <div class='dosha'>दोष : ${res.dosha}</div>`;
 }else{
   out.innerHTML = "<span style='color:red'>डेटा उपलब्ध नाही</span>";
 }
}

</script>
</body>
</html>
