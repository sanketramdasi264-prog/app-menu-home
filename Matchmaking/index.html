<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>अचूक गुण मिलान</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
 font-family:'Noto Sans Devanagari',sans-serif;
 background:linear-gradient(#fff3e0,#ffe0b2);
 margin:0;
 padding:15px;
}
.container{
 max-width:480px;
 margin:auto;
 background:#fff;
 border-radius:15px;
 padding:20px;
 box-shadow:0 5px 15px rgba(0,0,0,0.15);
}
h2{
 text-align:center;
 color:#bf360c;
 margin-bottom:20px;
}
.card{
 margin-bottom:15px;
}
label{
 font-weight:600;
 display:block;
 margin-bottom:5px;
}
select{
 width:100%;
 padding:10px;
 border-radius:8px;
 border:1px solid #ccc;
 font-size:16px;
 background:#f5f5f5;
}
.rashi-letters{
 margin-top:5px;
 background:#fff8e1;
 padding:8px;
 border-radius:6px;
 font-size:14px;
 color:#555;
}
button{
 width:100%;
 padding:14px;
 background:#bf360c;
 color:white;
 font-size:17px;
 border:none;
 border-radius:10px;
 cursor:pointer;
 font-weight:bold;
}
button:hover{background:#a52d08;}
.result{
 margin-top:20px;
 text-align:center;
 font-size:18px;
 font-weight:bold;
}
.score{
 font-size:36px;
 color:#bf360c;
}
.dosha{
 margin-top:5px;
 color:#d84315;
}
.error{
 color:red;
}
</style>
</head>

<body>
<div class="container">
<h2>अचूक गुण मिलान</h2>

<!-- Groom -->
<div class="card">
<label>मुलाची रास</label>
<select id="boyRashi" onchange="updateRashi('boy')"></select>
<div id="boyRashiLetters" class="rashi-letters"></div>

<label style="margin-top:10px;">मुलाचे नक्षत्र-चरण</label>
<select id="boyNak"></select>
</div>

<hr>

<!-- Bride -->
<div class="card">
<label>मुलीची रास</label>
<select id="girlRashi" onchange="updateRashi('girl')"></select>
<div id="girlRashiLetters" class="rashi-letters"></div>

<label style="margin-top:10px;">मुलीचे नक्षत्र-चरण</label>
<select id="girlNak"></select>
</div>

<button onclick="calcMatch()">गुण तपासा</button>

<div id="result" class="result"></div>
</div>

<script>

// ===== Rashi Data =====
const rashiData = {
 "मेष": { letters:"चु चे चो ला लि लू ले लो आ", naks:[["अश्विनी",4],["भरणी",4],["कृत्तिका",1]] },
 "वृषभ": { letters:"इ उ ए ओ वा वि वू वे वो", naks:[["कृत्तिका",3],["रोहिणी",4],["मृगशिरा",2]] },
 "मिथुन": { letters:"का कि कु घ ङ छ के को हा", naks:[["मृगशिरा",2],["आर्द्रा",4],["पुनर्वसू",3]] },
 "कर्क": { letters:"हि हु हे हो डा डि डू डे डो", naks:[["पुनर्वसू",1],["पुष्य",4],["आश्लेषा",4]] },
 "सिंह": { letters:"मा मि मु मे मो टा टि टू टे", naks:[["मघा",4],["पूर्वा फाल्गुनी",4],["उत्तर फाल्गुनी",1]] },
 "कन्या": { letters:"टो पा पि पु ष ण ठ पे पो", naks:[["उत्तर फाल्गुनी",3],["हस्त",4],["चित्रा",2]] },
 "तुला": { letters:"रा रि रु रे रो ता ति तू ते", naks:[["चित्रा",2],["स्वाती",4],["विशाखा",3]] },
 "वृश्चिक": { letters:"तो ना नि नु ने नो या यि यु", naks:[["विशाखा",1],["अनुराधा",4],["ज्येष्ठा",4]] },
 "धनु": { letters:"ये यो भा भि भू धा फा ढा भे", naks:[["मूळ",4],["पूर्वाषाढा",4],["उत्तराषाढा",1]] },
 "मकर": { letters:"भो जा जि जु जे जो खा खि खू खे", naks:[["उत्तराषाढा",3],["श्रवण",4],["धनिष्ठा",2]] },
 "कुंभ": { letters:"गु गे गो सा सि सू से सो दा", naks:[["धनिष्ठा",2],["शतभिषा",4],["पूर्वा भाद्रपदा",3]] },
 "मीन": { letters:"दि दु थ झ ञ दे दो चा चि", naks:[["पूर्वा भाद्रपदा",1],["उत्तरा भाद्रपदा",4],["रेवती",4]] }
};

// ===== Load Rashis =====
const rashis = Object.keys(rashiData);
const boyRashi = document.getElementById("boyRashi");
const girlRashi = document.getElementById("girlRashi");

rashis.forEach(r=>{
 boyRashi.innerHTML += `<option>${r}</option>`;
 girlRashi.innerHTML += `<option>${r}</option>`;
});

// ===== Update Rashi Letters + Nakshatra =====
function updateRashi(type){
 let rashi = document.getElementById(type+"Rashi").value;
 document.getElementById(type+"RashiLetters").innerText =
   "राशी अक्षरे : "+rashiData[rashi].letters;

 let nakSel = document.getElementById(type+"Nak");
 nakSel.innerHTML="";

 rashiData[rashi].naks.forEach(n=>{
   for(let i=1;i<=n[1];i++){
     nakSel.innerHTML += `<option>${n[0]}-${i}</option>`;
   }
 });
}

// ===== Initial Load =====
updateRashi("boy");
updateRashi("girl");

// ===== Load JSON Data =====
let gunData = {};

fetch("gunmilan_data.json")
.then(res => res.json())
.then(data => { gunData = data; })
.catch(()=>{ console.log("JSON Load Error"); });

// ===== Calculate Match =====
function calcMatch(){
 let b = document.getElementById("boyNak").value.trim();
 let g = document.getElementById("girlNak").value.trim();
 let key = b+"_"+g;

 let res = gunData[key];
 let out = document.getElementById("result");

 if(res){
   out.innerHTML = `<div class='score'>${res.score} गुण</div>
                    <div class='dosha'>दोष : ${res.dosha}</div>`;
 }else{
   out.innerHTML = `<div class='error'>डेटा उपलब्ध नाही</div>`;
 }
}

</script>
</body>
</html>
